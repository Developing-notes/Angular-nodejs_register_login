<app-navbar [menus]="list"></app-navbar>


<div class="container">
    <div class="row">
        <div class="mt-5 col-md-6 mx-auto">
            <div class="card">
                <div class="card-header">
                    <h4>Profile update</h4>
                </div>
                <div class="card-body">
                    <form class="form" #updateForm="ngForm">
                        <div class="mt-2 form-group">
                            <label>E-Mail</label>
                            <input type="text" class="form-control" [(ngModel)]="userProfile.email" name="email"
                                #email="ngModel" [pattern]="commonService.pattern.email" required email>
                            <span class="text-danger"
                                *ngIf="(email.touched || updateForm.submitted) && email.errors?.required">
                                E-Mail is required
                            </span>
                            <span class="text-danger" *ngIf="email.touched && email.errors?.pattern">
                                Enter a valid email address
                            </span>
                        </div>

                        <div class="mt-2  form-group">
                            <label>First Name</label>
                            <input type="text" class="form-control" [(ngModel)]="userProfile.first_name"
                                name="firstname" #firstname="ngModel" required>
                            <span class="text-danger" *ngIf="(firstname.touched || 
                                updateForm.submitted) && 
                                firstname.errors?.required">
                                First Name is required
                            </span>
                        </div>

                        <div class="mt-2  form-group">
                            <label>Last Name</label>
                            <input type="text" class="form-control" [(ngModel)]="userProfile.last_name" name="lastname"
                                #lastname="ngModel" required>
                            <span class="text-danger" *ngIf="(lastname.touched  || 
                                updateForm.submitted) && 
                                lastname.errors?.required">
                                Last Name is required
                            </span>
                        </div>


                        <div class="mt-2  form-group">
                            <label for="gender">Gender </label>
                            <input type="radio" value="male" id="gender" name="gender" #gender="ngModel"
                                [(ngModel)]="userProfile.gender" required>
                            Male
                            <input type="radio" value="female" id="gender" #gender="ngModel" name="gender"
                                [(ngModel)]="userProfile.gender" required> Female

                            <span class="text-danger" *ngIf="(gender.touched || 
                                updateForm.submitted) && 
                                gender.errors?.required">
                                Gender is required
                            </span>
                        </div>

                        <div class="mt-2  form-group">
                            <label>DOB</label>
                            <input type="date" class="form-control" [(ngModel)]="userProfile.dob" name="dob"
                                #dob="ngModel" required>
                            <span class="text-danger" *ngIf="(dob.touched || 
                                updateForm.submitted) && 
                                dob.errors?.required">
                                Dob is required
                            </span>
                        </div>

                        <div class="mt-2  form-group">
                            <label>Mobile Number</label>
                            <input type="text" class="form-control" [(ngModel)]="userProfile.mobile_number"
                                name="mobilenumber" #mobilenumber="ngModel" required>

                            <span class="text-danger" *ngIf="(mobilenumber.touched || 
                                updateForm.submitted) && 
                                mobilenumber.errors?.required">
                                Mobile Number is required
                            </span>

                        </div>


                        <div class="mt-2  form-group">
                            <label for="branch">Roll</label>
                            <select type="option" class="custom-select my-1 mr-sm-2" id="role" #role="ngModel"
                                name="role" class="form-control" [(ngModel)]="userProfile.role">
                                <option>Team leader</option>
                                <option>Manager</option>
                                <option>Fresher</option>
                                <option>Backend developer</option>
                                <option>Frontend developer</option>
                            </select>
                            <span class="text-danger" *ngIf="(role.touched || 
                                updateForm.submitted) && 
                                mobilenumber.errors?.required">
                                Role is required
                            </span>
                        </div>

                        <div class=" mt-2 form-group">

                            <input type="file" name="image"  (change)="selectImage($event)"  />
                        </div>
                        <div class=" mt-2 form-group">
                            <button class="btn btn-success" (click)="onSubmit()">Update Profile</button>
                        </div>


                        <!-- <div class=" mt-2 form-group">
                            <button type="submit" (click)="editProfileImage()">Upload</button>
                        </div> -->
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>